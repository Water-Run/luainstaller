.TH LUAINSTALLER 1 "January 2026" "luainstaller v0.1.0" "User Commands"
.SH NAME
luainstaller \- package .lua scripts into .exe executables (Windows/Linux)

.SH SYNOPSIS
.B luainstaller
.I command
[\fIoptions\fR]

.SH DESCRIPTION
\fBluainstaller\fR is a tool for packaging \fB.lua\fR files into \fB.exe\fR executables,
supporting both Windows and Linux. It provides pre-compiled binaries and works
out-of-the-box on devices with a \fBlua\fR environment.

It uses \fBluastatic\fR as the packaging engine and \fBWarp\fR for bundling.

The project is open-sourced on GitHub under the LGPL license.
luainstaller was previously provided as a Python library and has been separated
into an independent command-line tool.

.SH INSTALLATION
There are two ways to install:

.TP
.B LuaRocks
.nf
luarocks install luainstaller
.fi
This method allows both CLI use and Lua library usage.

.TP
.B Pre-compiled binary
Download from the repository releases page.

.SH COMMANDS
.TP
.B help
Show help information.

.TP
.B bundle
Package a Lua entry script into an executable.

.SH USAGE
The CLI tool name is \fBluainstaller\fR.

.SS Get help
.nf
luainstaller help

luainstaller v0.1.0
installed via luarocks
https://github.com/Water-Run/luainstaller

help:
  ...
.fi

If installed via a pre-compiled binary, it will show:
.B installed via binary(windows)
or
.B installed via binary(linux)

On Linux, you can also use:
.nf
man luainstaller
.fi

.SS Execute packaging
.nf
luainstaller bundle <path_to_lua_entry_file>
.fi

Output:
.nf
success.
<path_to_lua_entry_file> => <path_to_bundled_exe_file>
.fi

\fBluainstaller\fR starts from the entry \fB.lua\fR script, performs static
dependency analysis, and packages all dependencies into an executable file
(default: same name in the same directory).

.SH OPTIONS
The following options apply to the \fBbundle\fR command:

.TP
.BI \-\-output\  <path_to_bundled_exe_file>
Specify output path.
.nf
luainstaller bundle main.lua --output ../output.exe
.fi

.TP
.B \-\-verbose
Display detailed information.
.nf
luainstaller bundle main.lua --verbose
.fi

.TP
.B \-\-no\-wrap
Do not use Warp to package into a single \fB.exe\fR.
.nf
luainstaller bundle main.lua --no-wrap
.fi

.TP
.BI \-\-max\-dependencies\  <amount>
Maximum number of dependencies (default 36).
.nf
luainstaller bundle main.lua --max-dependencies 10
.fi

.TP
.BI \-\-manual\-add\-require\  <require_script_path>
Manually add dependencies (for dynamic imports not detected by analysis).
May be specified multiple times.
.nf
luainstaller bundle main.lua --manual-add-require ./require.lua --manual-add-require ./require2.lua
.fi

.TP
.BI \-\-manual\-exclude\  <require_script_path>
Manually exclude dependencies (to remove false positives, e.g., from pcall).
May be specified multiple times.
.nf
luainstaller bundle main.lua --manual-exclude ./require.lua --manual-exclude ./require2.lua
.fi

.TP
.B \-\-disable\-dependency\-analysis
Disable dependency analysis; all dependencies must be added manually.
.nf
luainstaller bundle main.lua --disable-dependency-analysis
.fi

.SH LUA API
When installed via LuaRocks, \fBluainstaller\fR can be invoked from Lua:

.nf
local luainstaller = require("luainstaller")

-- Basic packaging
local success, result = luainstaller.bundle({ entry = "main.lua" })

-- Only analyze dependencies
local success, deps = luainstaller.analyze_dependencies("main.lua", 50)

-- Version info
print(luainstaller.version())
.fi

.SH SEE ALSO
GitHub: https://github.com/Water-Run/luainstaller
.br
luastatic: https://github.com/ers35/luastatic
.br
Warp: https://github.com/warpdotdev/Warp

.SH LICENSE
LGPL License
